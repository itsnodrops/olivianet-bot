(function(_0x42d1a8,_0x53785e){const _0x3674b2=_0x44bd,_0x29e0a3=_0x42d1a8();while(!![]){try{const _0x3af8e0=-parseInt(_0x3674b2(0x19b))/0x1*(parseInt(_0x3674b2(0x1a6))/0x2)+parseInt(_0x3674b2(0x191))/0x3+-parseInt(_0x3674b2(0x1a8))/0x4+parseInt(_0x3674b2(0x1a4))/0x5*(-parseInt(_0x3674b2(0x19d))/0x6)+-parseInt(_0x3674b2(0x1a5))/0x7*(parseInt(_0x3674b2(0x198))/0x8)+parseInt(_0x3674b2(0x19c))/0x9*(parseInt(_0x3674b2(0x1a9))/0xa)+parseInt(_0x3674b2(0x192))/0xb;if(_0x3af8e0===_0x53785e)break;else _0x29e0a3['push'](_0x29e0a3['shift']());}catch(_0x2b62e8){_0x29e0a3['push'](_0x29e0a3['shift']());}}}(_0x4b50,0x7f354));import{updateAccountData}from'../utils/helpers.js';function _0x44bd(_0x216356,_0x41f843){const _0x4b5074=_0x4b50();return _0x44bd=function(_0x44bdac,_0x408e32){_0x44bdac=_0x44bdac-0x18e;let _0x536a79=_0x4b5074[_0x44bdac];return _0x536a79;},_0x44bd(_0x216356,_0x41f843);}import{logger}from'../utils/logger.js';export async function authenticateTwitter(_0x54f601,_0x18269f){const _0xdeddd5=_0x44bd;try{logger[_0xdeddd5(0x1a3)](_0xdeddd5(0x1a1),_0x18269f[_0xdeddd5(0x1ab)]);const _0x2bbe15={'twitter_id':_0x18269f[_0xdeddd5(0x193)],'handle':_0x18269f[_0xdeddd5(0x1ab)],'auth_id':_0x18269f['auth_id']},_0x5dcba0=await _0x54f601[_0xdeddd5(0x18e)](_0xdeddd5(0x1ad),_0x2bbe15);if(_0x5dcba0[_0xdeddd5(0x1ae)]&&_0x5dcba0[_0xdeddd5(0x19e)]){const {user:_0x227f19,accessToken:_0x3f72f8,refreshToken:_0x18ce19,expiresIn:_0x14b7b5,isNewUser:_0x152737}=_0x5dcba0[_0xdeddd5(0x19e)],_0x512b31={'twitter_id':_0x18269f[_0xdeddd5(0x193)],'handle':_0x18269f['handle'],'user_id':_0x227f19['id'],'operator_id':_0x227f19[_0xdeddd5(0x19a)],'wallet_address':_0x227f19[_0xdeddd5(0x199)],'points':_0x227f19[_0xdeddd5(0x197)],'nft_minted':_0x227f19[_0xdeddd5(0x196)],'nft_metadata':_0x227f19[_0xdeddd5(0x194)],'auth_id':_0x227f19[_0xdeddd5(0x1b1)],'is_olivia_x_follower':_0x227f19[_0xdeddd5(0x19f)],'retweet_post':_0x227f19['retweet_post'],'user_wallet':_0x227f19['user_wallet'],'user_wallet_chain':_0x227f19[_0xdeddd5(0x190)],'user_wallet_connected':_0x227f19[_0xdeddd5(0x1b2)],'completed_tasks':_0x227f19['completed_tasks'],'user_refcode':_0x227f19['user_refcode'],'referrer':_0x227f19[_0xdeddd5(0x1ac)],'tier_unlocked':_0x227f19[_0xdeddd5(0x1a2)],'nft_tier':_0x227f19['nft_tier'],'tier':_0x227f19[_0xdeddd5(0x1af)],'access_token':_0x3f72f8,'refresh_token':_0x18ce19,'expires_in':_0x14b7b5,'is_new_user':_0x152737,'created_at':_0x227f19[_0xdeddd5(0x195)],'updated_at':_0x227f19['updated_at'],'last_login':new Date()[_0xdeddd5(0x1b4)]()};return updateAccountData(_0x18269f[_0xdeddd5(0x1ab)],_0x512b31),_0x54f601['setAccessToken'](_0x3f72f8),logger[_0xdeddd5(0x1ae)](_0xdeddd5(0x1a0)+_0x227f19['points']+_0xdeddd5(0x1b0)+_0x227f19['operator_id']+_0xdeddd5(0x1b5)+_0x227f19[_0xdeddd5(0x1af)],_0x18269f[_0xdeddd5(0x1ab)]),{'success':!![],'accessToken':_0x3f72f8,'userData':_0x227f19};}else throw new Error('Authentication\x20failed:\x20Invalid\x20response');}catch(_0x4dbb22){return logger[_0xdeddd5(0x1b3)](_0xdeddd5(0x18f)+_0x4dbb22['message'],_0x18269f[_0xdeddd5(0x1ab)]),{'success':![],'error':_0x4dbb22['message']};}}export function isTokenValid(_0x239d7e){const _0x336101=_0x44bd;if(!_0x239d7e||!_0x239d7e[_0x336101(0x1a7)]||!_0x239d7e[_0x336101(0x1aa)])return![];const _0x1ca7ec=new Date(_0x239d7e['last_login']),_0x3b28f8=new Date(),_0x4af7d5=(_0x3b28f8-_0x1ca7ec)/(0x3e8*0x3c*0x3c);return _0x4af7d5<0x18;}function _0x4b50(){const _0xe3d46c=['836910UbBehJ','22636482dAPkrn','twitter_id','nft_metadata','created_at','nft_minted','points','1255400WfdAla','wallet_address','operator_id','2AimfTM','700038IpDCWA','24nuxyfg','data','is_olivia_x_follower','Authenticated\x20successfully!\x20Points:\x20','Authenticating\x20with\x20Twitter...','tier_unlocked','info','1183075EWIiTC','14UPwORo','599356aumJFw','access_token','135616LIxilm','10LdhUGx','last_login','handle','referrer','/api/auth/twitter','success','tier',',\x20Operator\x20ID:\x20','auth_id','user_wallet_connected','error','toISOString',',\x20Tier:\x20','post','Authentication\x20failed:\x20','user_wallet_chain'];_0x4b50=function(){return _0xe3d46c;};return _0x4b50();}